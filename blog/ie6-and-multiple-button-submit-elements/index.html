<!DOCTYPE html><html><head><title>IE6 and Multiple Button Submit Elements • Vance Lucas</title><link href="../../stylesheets/application.css?1388894053" media="all" rel="stylesheet" type="text/css" /><script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" type="text/javascript"></script><script src="../../javascripts/application.js?1388894039" type="text/javascript"></script><link href="../../images/favicon.ico" rel="shortcut icon" /><meta charset="utf-8" /><meta content="Personal website and blog of Vance Lucas from Oklahoma City, OK" name="description" /><meta content="Vance Lucas" name="apple-mobile-web-app-title" /><meta content="yes" name="apple-mobile-web-app-capable" /><meta content="initial-scale=1.0, user-scalable=no" name="viewport" /></head><body class="blog blog_ie6-and-multiple-button-submit-elements blog_ie6-and-multiple-button-submit-elements_index"><header><div class="navbar-wrapper"><nav class="navbar navbar-inverse navbar-static-top" role="navigation"><div class="container"><div class="navbar-header"><a class="navbar-brand" href="/">Vance Lucas</a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav"><li><a href="/blog">Blog</a></li><li><a href="/skills">Skills</a></li><li><a href="/timeline">Timeline</a></li><li><a href="/contact">Contact</a></li></ul></div></div></nav></div></header><div class="container main"><div class="col-md-10 col-md-offset-1 col-sm-12 col-lg-10"><h1>IE6 and Multiple Button Submit Elements</h1><p>I stumbled across yet another weird issue in Internet Explorer 6 today.  This
time it has to do with <code>&lt;button type=&quot;submit&quot;&gt;</code> elements and how data is sent
back to the server.</p>

<h3>&lt;button type=&ldquo;submit&rdquo;&gt; vs &lt;input type=&ldquo;submit&rdquo;&gt;</h3>

<p>You would think both elements would behave exactly the same, because they&rsquo;re
both basically the same thing - the &ldquo;submit&rdquo; button on HTML forms.  Turns out
that in Internet Explorer 6, they don&rsquo;t behave the same at all.  Surprise,
surprise.  The issue has to do with using multiple submit buttons on a
form which can perform different actions:</p>

<p>[Displayed cart contents with editable quantity fields]</p>

<p>Update</p>

<p>Checkout &gt;</p>

<p></p>

<p>The standard behavior of forms is to only pass the submit button field that was
clicked by the user.  So if the user updated some quantities and clicked on
&ldquo;Update&rdquo;, only that <code>&lt;button type=&quot;submit&quot;&gt;</code> would be posted back to the server,
and the &ldquo;checkout&rdquo; field wouldn&rsquo;t even be set.  So the code on the server to
check which button was clicked might look something like this on the server:</p>
<pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="c1">// Which button was clicked?
</span><span class="k">if</span><span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;update&#39;</span><span class="p">]))</span> <span class="p">{</span>
    <span class="c1">// Update cart quantities
</span><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// Save cart and redirect to checkout page
</span><span class="p">}</span>
</pre>
<h3>What&rsquo;s Going On?! @#%$ IE!</h3>

<p>Turns out, IE6 actually passes ALL <code>&lt;button type=&quot;submit&quot;&gt;</code> elements back to the
server on postback instead of just the active/clicked one.  As a result, the
&ldquo;update&rdquo; element will ALWAYS be set for ie6 users, and the &ldquo;else&rdquo; condition
will NEVER be executed.  They won&rsquo;t be able to make it past the cart page, and
won&rsquo;t be able to buy your products or continue to the next step.</p>

<h3>The Solution</h3>

<p>So the solution here is to change all the <code>&lt;button type=&quot;submit&quot;&gt;</code> elements to
<code>&lt;input type=&quot;submit&quot;&gt;</code> elements instead, because those are actually handled
correctly in IE6.</p>

<p>[Displayed cart contents with editable quantity fields]</p>

<p>So much for the flexibility of being able to use HTML markup inside <code>&lt;button&gt;</code>
elements.</p>
<div class="small">Posted on Nov  4, 2008</div></div></div><footer id="page_foot"><div class="container"><section class="col-md-4"><h3></h3><img width="250" class="thumbnail" src="../../images/VanceLucas-March09.jpg?1388894039" /><ul class="contact_icons"><li><a href="https://github.com/vlucas"><img src="../../images/icons/GitHub.svg?1388894039" /></a></li><li><a href="https://twitter.com/vlucas"><img src="../../images/icons/Twitter.svg?1388894039" /></a></li><li><a href="http://www.linkedin.com/in/vancelucas"><img src="../../images/icons/LinkedIn.svg?1388894039" /></a></li></ul></section><section class="col-md-4"><h3>Sites & Projects</h3><div class="list-group"><a class="list-group-item" href="http://brightbit.com">Brightbit - App Development</a><a class="list-group-item" href="http://autoridge.com">Autoridge - Find Auto Parts</a><a class="list-group-item" href="http://invoicemore.com">InvoiceMore - Online Invoicing</a><a class="list-group-item" href="http://jscompress.com">Online JavaScript Compressor</a><a class="list-group-item" href="http://strfu.com">Online String Functions</a></div></section><section class="col-md-4"><h3>Recent Posts</h3><div class="list-group"><a class="list-group-item" href="/blog/new-year-new-blog/">New Year, New Blog</a><a class="list-group-item" href="/blog/valitron-the-simple-validation-library-that-doesnt-suck/">Valitron: The Simple Validation Library That Doesn't Suck</a><a class="list-group-item" href="/blog/introducing-bullet-the-functional-php-micro-framework/">Introducing Bullet: The Functional PHP Micro-Framework</a><a class="list-group-item" href="/blog/handling-exceptions-in-gearman-tasks-even-background-ones/">Handling Exceptions in Gearman Tasks (Even Background Ones)</a><a class="list-group-item" href="/blog/confoo-2012-montreal/">Confoo 2012 Montreal</a></div></section></div></footer><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-359731-12']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></body></html>